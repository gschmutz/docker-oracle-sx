"use strict";
/*
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
 Copyright (c) 2014, Oracle and/or its affiliates.
 All rights reserved.
*/
define("ojs/ojcore jquery knockout jqueryui ojs/ojknockout ojs/ojmessaging".split(" "),function(a,f,c){a.ud=function(){this.Init()};o_("InvalidComponentTracker",a.ud,a);a.b.sa(a.ud,a.b,"oj.InvalidComponentTracker");a.ud.prototype.Init=function(){a.ud.t.Init.call(this);this.Pr=[];this.fi=[];this.Xk=[];this.invalidHidden=this.invalidShown=!1};a.ud.prototype.GH=function(){var a=null,c=this,e=this.Sr;this.invalidShown&&(a=this.$u());setTimeout(function(){(a=e===c.Sr?a||c.$u():c.$u())&&a.call(a,"Focus")},
1);return a?!0:!1};a.b.g("InvalidComponentTracker.prototype.focusOnFirstInvalid",{GH:a.ud.prototype.GH});a.ud.prototype.showMessages=function(){var a,c,e;if(this.invalidHidden)for(c=this.Xk.length,e=0;e<c;e++)this.Xk[e]&&(a=this.Pr[e].call(a,"showMessages"))};a.b.g("InvalidComponentTracker.prototype.showMessages",{showMessages:a.ud.prototype.showMessages});a.ud.prototype.$u=function(){for(var a,c=0,e=this.fi.length,c=0;c<e;c++)if(a=this.fi[c])return this.Pr[c];return null};a.ud.prototype.si=function(b,
c,e){var g=b.call(b,"isValid"),h=-1;f.each(this.Pr,function(a,c){0>h&&c===b&&(h=a)});switch(c){case "messagesShown":case "messagesHidden":if(e){0>h&&(h=this.Pr.push(b)-1);this.rl(this.fi,h,!1);this.rl(this.Xk,h,!1);if(!g){var g=b.call(b,"option","disabled"),k=b.call(b,"option","readOnly");"messagesShown"===c&&a.ud.Sq(e)&&this.rl(this.fi,h||0,g||k?!1:!0);"messagesHidden"===c&&a.ud.Sq(e)&&this.rl(this.Xk,h||0,!0)}this.SG();void 0===this.Sr&&(this.Sr=0);this.Sr++}break;case "disabled":case "readOnly":e&&
(this.rl(this.fi,h||0,!1),this.rl(this.Xk,h||0,!1),this.SG())}return!0};a.ud.prototype.SG=function(){this.invalidShown=0<=this.fi.indexOf(!0);this.invalidHidden=0<=this.Xk.indexOf(!0)};a.ud.prototype.rl=function(a,c,e){0<=c?a.splice(c,1,e):a.push(e)};a.ud.Sq=function(b){return!a.U.isValid(b)};a.gb=function(){};a.gb.np="invalidComponentTracker";a.gb.Iz="ojoptionchange";a.gb.nt="messagesShown";a.gb.mt="messagesHidden";a.gb.ym="disabled";a.gb.cA="readOnly";a.gb.si=function(b,d,e,g,f){e={};f=f.call()[a.gb.np];
var k=c.utils.unwrapObservable(f);if(b===a.gb.ym||b===a.gb.cA)return null!==k&&c.isWriteableObservable(f)&&k.si.call(k,g,b,d)&&f.valueHasMutated(),e[b]=d,e};a.gb._init=function(a,c){var e={};e[a]=c;return e};a.gb.DM=function(b,c,e,g){g=g.call();var f;switch(b){case a.gb.np:(f=g[b]?!0:!1)&&a.gb.iT(b,g,c,e)}return{}};a.gb.RG=function(b,d){var e=b.data.My,g=c.utils.unwrapObservable(e),f=b.data.va,k=d.option,l=d.value;(k===a.gb.nt||k===a.gb.mt)&&c.isWriteableObservable(e)&&g.si.call(g,f,k,l)&&e.valueHasMutated()};
a.gb.$M=function(b){(b=f(b))&&b.off(a.gb.Iz,a.gb.RG)};a.gb.iT=function(b,d,e,g){b=d[b];var h,k;d=c.utils.unwrapObservable(b);e=f(e);if(c.isObservable(b))null==d&&(d=new a.ud,b(d));else throw Error("Binding attribute "+a.gb.np+" should be bound to a ko observable.");null!==d&&(c.isWriteableObservable(b)&&(h=g.call(g,"option",a.gb.nt),k=g.call(g,"option",a.gb.mt),d.si.call(d,g,a.gb.nt,h),d.si.call(d,g,a.gb.mt,k),b.valueHasMutated()),g={My:b,va:g},e.on(a.gb.Iz,g,a.gb.RG))};a.ka.Eh().Mh({"for":"editableValue",
attributes:[a.gb.np,a.gb.ym,a.gb.cA],init:a.gb._init,update:a.gb.si,afterCreate:a.gb.DM,beforeDestroy:a.gb.$M})});
//# sourceMappingURL=oj-modular.map
define(["ojs/ojcore","knockout","ojs/ojmodel"],function(a,f){a.Ma=function(){};o_("KnockoutUtils",a.Ma,a);a.Ma.Zx="oj._internalObj";a.Ma.ve="oj._underUpdate";a.Ma.wl="oj.collectionUpdating";a.Ma.map=function(c,b,d){function e(b){return function(d){g[a.Ma.ve]||c.set(b,d)}}var g,h,k,l;if(c instanceof a.l){g=d?f.observableArray():[];a.Ma.xG(g,c);for(h=0;h<c.Qc();h+=1)g.push(a.Ma.map(c.Vh(h,null,!0,!1),b));h=function(b){var d;try{if(!g[a.Ma.ve]){g[a.Ma.wl]=!0;for(d=0;d<b.length;d++){var e=b[d].index,
f=a.Ma.Vb(b[d].value),h=b[d].status;"added"===h?e>=c.length-1?c.add(f):c.add(f,{at:e}):"deleted"===h&&c.mi(f,e)}c.comparator&&(g[a.Ma.ve]=!0,g.sort(function(b,d){return a.Ma.jB(b,d,c.comparator,c,this)}),g[a.Ma.ve]=!1)}}catch(k){throw k;}finally{g[a.Ma.wl]=!1}};d&&g.subscribe&&g.subscribe(h,null,"arrayChange");d=function(b,c,d){var e;try{!g[a.Ma.wl]&&c instanceof a.l&&(g[a.Ma.ve]=!0,e=d.index,g.splice(e,1))}catch(f){throw f;}finally{g[a.Ma.ve]=!1}};h=function(c,d,e){var f,h;try{if(!g[a.Ma.wl]&&d instanceof
a.l&&(g[a.Ma.ve]=!0,f=d.$R(c),void 0!==f&&-1<f))if(h=a.Ma.map(c,b),e.fillIn){for(var k=Array.isArray(g)?g.length:g().length;k<f;k++)g.splice(k,0,a.Ma.map(d.Vh(k,null,!0,!1),b));g.splice(f,1,h)}else g.splice(f,0,h)}catch(l){throw l;}finally{g[a.Ma.ve]=!1}};k=function(b){try{!g[a.Ma.wl]&&b instanceof a.l&&(g[a.Ma.ve]=!0,f.isObservable(g)?g.removeAll():g=[])}catch(c){throw c;}finally{g[a.Ma.ve]=!1}};l=function(b){try{!g[a.Ma.wl]&&b instanceof a.l&&(g[a.Ma.ve]=!0,g.sort(function(d,e){return a.Ma.jB(d,
e,c.comparator,b,this)}))}catch(d){throw d;}finally{g[a.Ma.ve]=!1}};c.Wg(a.X.v.ADD,h,void 0,void 0,!0);c.Wg(a.X.v.REMOVE,d,void 0,void 0,!0);c.Wg(a.X.v.RESET,k,void 0,void 0,!0);c.Wg(a.X.v.SORT,l,void 0,void 0,!0)}else{if(void 0===c)return;g={};d=c.attributes;h=null;for(h in d)d.hasOwnProperty(h)&&(k=f.observable(c.get(h)),g[h]=k,l=e(h),l.FY=h,k.subscribe&&k.subscribe(l));d=function(b){var c,d;try{for(d in g[a.Ma.ve]=!0,c=b.vx(),c)if(c.hasOwnProperty(d))g[d](b.get(d))}catch(e){throw e;}finally{g[a.Ma.ve]=
!1}};c.Wg(a.X.v.CHANGE,d,void 0,void 0,!0);a.Ma.xG(g,c);b&&b(g)}return g};o_("KnockoutUtils.map",a.Ma.map,a);a.Ma.Cb=function(c){var b=[],d,e;for(d=0;d<c.length;d+=1)e=a.Ma.Vb(c[d]),b.push(e);return b};a.Ma.Vb=function(c){return c instanceof a.q?c:c.hasOwnProperty(a.Ma.Zx)?c[a.Ma.Zx]:c};a.Ma.jB=function(c,b,d,e,f){return a.l.lz(a.Ma.Vb(c),a.Ma.Vb(b),d,e,f)};a.Ma.xG=function(c,b){Object.defineProperty(c,a.Ma.Zx,{value:b,enumerable:!1})}});
//# sourceMappingURL=oj-modular.map